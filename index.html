<link rel="stylesheet" href="./app.css">
<script src="./app.js"></script>

<div class="container">
	<button class="btn" data-tooltip="This is tooltip message">
		Btn with tooltip
	</button>
</div>

<script>
	// Находим все элементы которые необходимо проинициализировать
	const elements = document.querySelectorAll('[data-tooltip]')
	
	// Создаем массив классов Tooltip
	const tooltipList = Array.from(elements).map((el) => {
		const element = el
		const text = el.getAttribute('data-tooltip')

		return new Tooltip(element, text) //тут мы короче для каждой штуки присваиваем экземпляр класса
	})

	// Инициализируем список Tooltip

	tooltipList.forEach((tooltipObj) => {
		let timer
		console.log(tooltipObj, 'object is initialize')

		tooltipObj.element.onmouseover = function() {
			tooltipObj.init()
			clearTimeout(timer)
		}

		//удаление

		tooltipObj.element.onmouseout = function(){
			timer = setTimeout(() => {
				console.log(tooltipObj, 'object is destroyed')
				tooltipObj.destroy()
			}, 2000)
		}
		
	})


</script>
